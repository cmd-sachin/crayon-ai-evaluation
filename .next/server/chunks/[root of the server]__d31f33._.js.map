{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file://D%3A/ai-eva-crayon/crayon-ai-evaluation/src/app/api/airtable/form/route.js"],"sourcesContent":["import Airtable from \"airtable\";\r\n\r\nconst base = new Airtable({ apiKey: process.env.AIRTABLE_API_KEY }).base(\r\n  process.env.AIRTABLE_BASE_ID\r\n);\r\n\r\nexport async function POST(request) {\r\n  try {\r\n    const body = await request.json();\r\n    const { fileurl, videourl, githubUrl, systemPrompt } = body;\r\n    // console.log(MailID);\r\n    // console.log(date);\r\n\r\n    const createdRecords = await base(\"data\").create([\r\n      {\r\n        fields: {\r\n          \"github url\": githubUrl,\r\n          system_prompt: systemPrompt,\r\n\r\n          video_url: videourl,\r\n        },\r\n      },\r\n    ]);\r\n\r\n    return new Response(\r\n      JSON.stringify({ success: true, record: createdRecords[0] }),\r\n      {\r\n        status: 200,\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      }\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Airtable error:\", error);\r\n    return new Response(JSON.stringify({ error: \"Failed to insert data\" }), {\r\n      status: 500,\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n  }\r\n}\r\n\r\n// Optionally, you can export other methods like GET if needed, or return a 405 error for unsupported methods:\r\nexport function GET() {\r\n  return new Response(JSON.stringify({ error: \"Method Not Allowed\" }), {\r\n    status: 405,\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,OAAO,IAAI,6IAAA,CAAA,UAAQ,CAAC;IAAE,QAAQ,QAAQ,GAAG,CAAC,gBAAgB;AAAC,GAAG,IAAI,CACtE,QAAQ,GAAG,CAAC,gBAAgB;AAGvB,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,YAAY,EAAE,GAAG;QACvD,uBAAuB;QACvB,qBAAqB;QAErB,MAAM,iBAAiB,MAAM,KAAK,QAAQ,MAAM,CAAC;YAC/C;gBACE,QAAQ;oBACN,cAAc;oBACd,eAAe;oBAEf,WAAW;gBACb;YACF;SACD;QAED,OAAO,IAAI,SACT,KAAK,SAAS,CAAC;YAAE,SAAS;YAAM,QAAQ,cAAc,CAAC,EAAE;QAAC,IAC1D;YACE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IAEJ,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,OAAO;QAAwB,IAAI;YACtE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IACF;AACF;AAGO,SAAS;IACd,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;QAAE,OAAO;IAAqB,IAAI;QACnE,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;IAChD;AACF"}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}